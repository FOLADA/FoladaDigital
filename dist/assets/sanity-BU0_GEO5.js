const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/stegaEncodeSourceMap-C59nKoKj.js","assets/i18n-DirEcjym.js","assets/vendor-BrIQynLM.js","assets/ui-CAR4CKGU.js","assets/animations-DWA-uona.js","assets/browser-52rAjx-D.js"])))=>i.map(i=>d[i]);
var e,t,r,n,i,s,o,a,u,c,l,h,d,p,f,y,m,g,b,v,w,I,C,E,x,O,$,_,A,j,T,S,M,k,P,R,q,F,D,W,U,V,z,N,L,H=Object.defineProperty,B=e=>{throw TypeError(e)},G=(e,t,r)=>((e,t,r)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),J=(e,t,r)=>t.has(e)||B("Cannot "+r),Q=(e,t,r)=>(J(e,t,"read from private field"),r?r.call(e):t.get(e)),Y=(e,t,r)=>t.has(e)?B("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),K=(e,t,r,n)=>(J(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);import{_ as X}from"./i18n-DirEcjym.js";import{_ as Z,k as ee,l as te,m as re,n as ne,o as ie,p as se,q as oe,r as ae}from"./ui-CAR4CKGU.js";import{t as ue,v as ce}from"./vendor-BrIQynLM.js";const le=!(typeof navigator>"u")&&"ReactNative"===navigator.product,he={timeout:le?6e4:12e4},de=function(e){const t={...he,..."string"==typeof e?{url:e}:e};if(t.timeout=fe(t.timeout),t.query){const{url:e,searchParams:r}=function(e){const t=e.indexOf("?");if(-1===t)return{url:e,searchParams:new URLSearchParams};const r=e.slice(0,t),n=e.slice(t+1);if(!le)return{url:r,searchParams:new URLSearchParams(n)};if("function"!=typeof decodeURIComponent)throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const i=new URLSearchParams;for(const s of n.split("&")){const[e,t]=s.split("=");e&&i.append(pe(e),pe(t||""))}return{url:r,searchParams:i}}(t.url);for(const[n,i]of Object.entries(t.query)){if(void 0!==i)if(Array.isArray(i))for(const e of i)r.append(n,e);else r.append(n,i);const s=r.toString();s&&(t.url=`${e}?${s}`)}}return t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function pe(e){return decodeURIComponent(e.replace(/\+/g," "))}function fe(e){if(!1===e||0===e)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?fe(he.timeout):{connect:t,socket:t}}const ye=/^https?:\/\//i,me=function(e){if(!ye.test(e.url))throw new Error(`"${e.url}" is not a valid URL`)};function ge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const be=["request","response","progress","error","abort"],ve=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function we(e,t){const r=[],n=ve.reduce((e,t)=>(e[t]=e[t]||[],e),{processOptions:[de],validateOptions:[me]});function i(e){const r=be.reduce((e,t)=>(e[t]=function(){const e=Object.create(null);let t=0;return{publish:function(t){for(const r in e)e[r](t)},subscribe:function(r){const n=t++;return e[n]=r,function(){delete e[n]}}}}(),e),{}),i=(e=>function(t,r,...n){const i="onError"===t;let s=r;for(let o=0;o<e[t].length&&(s=(0,e[t][o])(s,...n),!i||s);o++);return s})(n),s=i("processOptions",e);i("validateOptions",s);const o={options:s,channels:r,applyMiddleware:i};let a;const u=r.request.subscribe(e=>{a=t(e,(t,n)=>((e,t,n)=>{let s=e,o=t;if(!s)try{o=i("onResponse",t,n)}catch(a){o=null,s=a}s=s&&i("onError",s,n),s?r.error.publish(s):o&&r.response.publish(o)})(t,n,e))});r.abort.subscribe(()=>{u(),a&&a.abort()});const c=i("onReturn",r,o);return c===r&&r.request.publish(o),c}return i.use=function(e){if(!e)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof e)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(e.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return ve.forEach(t=>{e[t]&&n[t].push(e[t])}),r.push(e),i},i.clone=()=>we(r,t),e.forEach(i.use),i}var Ie,Ce,Ee=ge(function(){if(Ce)return Ie;Ce=1;var e=function(e){return e.replace(/^\s+|\s+$/g,"")},t=function(e){return"[object Array]"===Object.prototype.toString.call(e)};return Ie=function(r){if(!r)return{};for(var n=Object.create(null),i=e(r).split("\n"),s=0;s<i.length;s++){var o=i[s],a=o.indexOf(":"),u=e(o.slice(0,a)).toLowerCase(),c=e(o.slice(a+1));typeof n[u]>"u"?n[u]=c:t(n[u])?n[u].push(c):n[u]=[n[u],c]}return n}}());let xe=(a=class{constructor(){G(this,"onabort"),G(this,"onerror"),G(this,"onreadystatechange"),G(this,"ontimeout"),G(this,"readyState",0),G(this,"response"),G(this,"responseText",""),G(this,"responseType",""),G(this,"status"),G(this,"statusText"),G(this,"withCredentials"),Y(this,e),Y(this,t),Y(this,r),Y(this,n,{}),Y(this,i),Y(this,s,{}),Y(this,o)}open(n,s,o){var a;K(this,e,n),K(this,t,s),K(this,r,""),this.readyState=1,null==(a=this.onreadystatechange)||a.call(this),K(this,i,void 0)}abort(){Q(this,i)&&Q(this,i).abort()}getAllResponseHeaders(){return Q(this,r)}setRequestHeader(e,t){Q(this,n)[e]=t}setInit(e,t=!0){K(this,s,e),K(this,o,t)}send(a){const u="arraybuffer"!==this.responseType,c={...Q(this,s),method:Q(this,e),headers:Q(this,n),body:a};"function"==typeof AbortController&&Q(this,o)&&(K(this,i,new AbortController),typeof EventTarget<"u"&&Q(this,i).signal instanceof EventTarget&&(c.signal=Q(this,i).signal)),typeof document<"u"&&(c.credentials=this.withCredentials?"include":"omit"),fetch(Q(this,t),c).then(e=>{var t;return e.headers.forEach((e,t)=>{K(this,r,Q(this,r)+`${t}: ${e}\r\n`)}),this.status=e.status,this.statusText=e.statusText,this.readyState=3,null==(t=this.onreadystatechange)||t.call(this),u?e.text():e.arrayBuffer()}).then(e=>{var t;"string"==typeof e?this.responseText=e:this.response=e,this.readyState=4,null==(t=this.onreadystatechange)||t.call(this)}).catch(e=>{var t,r;"AbortError"!==e.name?null==(t=this.onerror)||t.call(this,e):null==(r=this.onabort)||r.call(this)})}},e=new WeakMap,t=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,a);const Oe="function"==typeof XMLHttpRequest?"xhr":"fetch",$e="xhr"===Oe?XMLHttpRequest:xe,_e=(e,t)=>{const r=e.options,n=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:Oe,context:e});if(s){const e=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(e)}}let o=new $e;o instanceof xe&&"object"==typeof n.fetch&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,u=n.timeout;let c=!1,l=!1,h=!1;if(o.onerror=e=>{f(o instanceof xe?e instanceof Error?e:new Error(`Request error while attempting to reach is ${n.url}`,{cause:e}):new Error(`Request error while attempting to reach is ${n.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},o.ontimeout=e=>{f(new Error(`Request timeout while attempting to reach ${n.url}${e.lengthComputable?`(${e.loaded} of ${e.total} bytes transferred)`:""}`))},o.onabort=()=>{p(!0),c=!0},o.onreadystatechange=function(){u&&(p(),i.socket=setTimeout(()=>d("ESOCKETTIMEDOUT"),u.socket)),!c&&o&&4===o.readyState&&0!==o.status&&function(){if(!(c||l||h)){if(0===o.status)return void f(new Error("Unknown XHR error"));p(),l=!0,t(null,{body:o.response||(""===o.responseType||"text"===o.responseType?o.responseText:""),url:n.url,method:n.method,headers:Ee(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const y in a)a.hasOwnProperty(y)&&o.setRequestHeader(y,a[y]);return n.rawBody&&(o.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:n,adapter:Oe,request:o,context:e}),o.send(n.body||null),u&&(i.connect=setTimeout(()=>d("ETIMEDOUT"),u.connect)),{abort:function(){c=!0,o&&o.abort()}};function d(t){h=!0,o.abort();const r=new Error("ESOCKETTIMEDOUT"===t?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);r.code=t,e.channels.error.publish(r)}function p(e){(e||c||o&&o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function f(e){if(l)return;p(!0),l=!0,o=null;const r=e||new Error(`Network error while attempting to reach ${n.url}`);r.isNetworkError=!0,r.request=n,t(r)}},Ae=(e=[],t=_e)=>we(e,t);var je,Te,Se,Me,ke,Pe={},Re={exports:{}};ke||(ke=1,function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=Pe.DEBUG),e},t.useColors=function(){if(typeof window<"u"&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0)}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=(Me?Se:(Me=1,Se=function(e){function t(e){let n,i,s,o=null;function a(...e){if(!a.enabled)return;const r=a,i=Number(new Date),s=i-(n||i);r.diff=s,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return"%";o++;const s=t.formatters[i];if("function"==typeof s){const t=e[o];n=s.call(r,t),e.splice(o,1),o--}return n}),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,r){const n=t(this.namespace+(typeof r>"u"?":":r)+e);return n.log=this.log,n}function n(e,t){let r=0,n=0,i=-1,s=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,s=r,n++):(r++,n++);else{if(-1===i)return!1;n=i+1,s++,r=s}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const n of r)"-"===n[0]?t.skips.push(n.slice(1)):t.names.push(n)},t.enabled=function(e){for(const r of t.skips)if(n(e,r))return!1;for(const r of t.names)if(n(e,r))return!0;return!1},t.humanize=function(){if(Te)return je;Te=1;var e=1e3,t=6e4,r=60*t,n=24*r,i=7*n;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}return je=function(o,a){a=a||{};var u,c,l,h,d=typeof o;if("string"===d&&o.length>0)return function(s){if(!((s=String(s)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*i;case"days":case"day":case"d":return a*n;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(o);if("number"===d&&isFinite(o))return a.long?(u=o,(c=Math.abs(u))>=n?s(u,c,n,"day"):c>=r?s(u,c,r,"hour"):c>=t?s(u,c,t,"minute"):c>=e?s(u,c,e,"second"):u+" ms"):(l=o,(h=Math.abs(l))>=n?Math.round(l/n)+"d":h>=r?Math.round(l/r)+"h":h>=t?Math.round(l/t)+"m":h>=e?Math.round(l/e)+"s":l+"ms");throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))}}(),t.destroy=function(){},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}))(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(Re,Re.exports));const qe=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e);function Fe(e){return"[object Object]"===Object.prototype.toString.call(e)}const De=["boolean","string","number"];function We(e){return{onResponse:e=>{const r=e.headers["content-type"]||"",n=-1!==r.indexOf("application/json");return e.body&&r&&n?Object.assign({},e,{body:t(e.body)}):e},processOptions:e=>Object.assign({},e,{headers:Object.assign({Accept:"application/json"},e.headers)})};function t(e){try{return JSON.parse(e)}catch(t){throw t.message=`Failed to parsed response body as JSON: ${t.message}`,t}}}let Ue={};typeof globalThis<"u"?Ue=globalThis:typeof window<"u"?Ue=window:typeof global<"u"?Ue=global:typeof self<"u"&&(Ue=self);var Ve=Ue;function ze(e={}){const t=e.implementation||Ve.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(e,r)=>new t(t=>(e.error.subscribe(e=>t.error(e)),e.progress.subscribe(e=>t.next(Object.assign({type:"progress"},e))),e.response.subscribe(e=>{t.next(Object.assign({type:"response"},e)),t.complete()}),e.request.publish(r),()=>e.abort.publish()))}}var Ne=(e,t,r)=>("GET"===r.method||"HEAD"===r.method)&&(e.isNetworkError||!1);function Le(e){return 100*Math.pow(2,e)+100*Math.random()}const He=(e={})=>(e=>{const t=e.maxRetries||5,r=e.retryDelay||Le,n=e.shouldRetry;return{onError:(e,i)=>{const s=i.options,o=s.maxRetries||t,a=s.retryDelay||r,u=s.shouldRetry||n,c=s.attemptNumber||0;if(null!==(l=s.body)&&"object"==typeof l&&"function"==typeof l.pipe||!u(e,c,s)||c>=o)return e;var l;const h=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:c+1})});return setTimeout(()=>i.channels.request.publish(h),a(c)),null}}})({shouldRetry:Ne,...e});function Be(e){return"function"==typeof e}function Ge(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}He.shouldRetry=Ne;var Je=Ge(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function Qe(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Ye=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=Z(s),a=o.next();!a.done;a=o.next())a.value.remove(this)}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else s.remove(this);var u=this.initialTeardown;if(Be(u))try{u()}catch(f){i=f instanceof Je?f.errors:[f]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=Z(c),h=l.next();!h.done;h=l.next()){var d=h.value;try{Ze(d)}catch(y){i=null!=i?i:[],y instanceof Je?i=ee(ee([],te(i)),te(y.errors)):i.push(y)}}}catch(m){r={error:m}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}if(i)throw new Je(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)Ze(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Qe(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&Qe(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),Ke=Ye.EMPTY;function Xe(e){return e instanceof Ye||e&&"closed"in e&&Be(e.remove)&&Be(e.add)&&Be(e.unsubscribe)}function Ze(e){Be(e)?e():e.unsubscribe()}var et={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,ee([e,t],te(r)))},clearTimeout:function(e){var t=et.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function tt(e){et.setTimeout(function(){throw e})}function rt(){}function nt(e){e()}var it=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Xe(t)&&t.add(r)):r.destination=ut,r}return re(t,e),t.create=function(e,t,r){return new ot(e,t,r)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ye);Function.prototype.bind;var st=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){at(r)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){at(r)}else at(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){at(t)}},e}(),ot=function(e){function t(t,r,n){var i,s=e.call(this)||this;return i=Be(t)||!t?{next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:t,s.destination=new st(i),s}return re(t,e),t}(it);function at(e){tt(e)}var ut={closed:!0,next:rt,error:function(e){throw e},complete:rt},ct="function"==typeof Symbol&&Symbol.observable||"@@observable";function lt(e){return e}function ht(e){return 0===e.length?lt:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var dt=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,s=(n=e)&&n instanceof it||function(e){return e&&Be(e.next)&&Be(e.error)&&Be(e.complete)}(n)&&Xe(n)?e:new ot(e,t,r);return nt(function(){var e=i,t=e.operator,r=e.source;s.add(t?t.call(s,r):r?i._subscribe(s):i._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=pt(t))(function(t,n){var i=new ot({next:function(t){try{e(t)}catch(r){n(r),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ct]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ht(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=pt(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function pt(e){var t;return null!==(t=null!=e?e:undefined)&&void 0!==t?t:Promise}function ft(e){return function(t){if(function(e){return Be(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yt(e,t,r,n,i){return new mt(e,t,r,n,i)}var mt=function(e){function t(t,r,n,i,s,o){var a=e.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=o,a._next=r?function(e){try{r(e)}catch(n){t.error(n)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(r){t.error(r)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return re(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(it),gt=Ge(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),bt=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return re(t,e),t.prototype.lift=function(e){var t=new vt(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new gt},t.prototype.next=function(e){var t=this;nt(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=Z(t.currentObservers),s=i.next();!s.done;s=i.next())s.value.next(e)}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;nt(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;nt(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,s=r.observers;return n||i?Ke:(this.currentObservers=null,s.push(e),new Ye(function(){t.currentObservers=null,Qe(s,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new dt;return e.source=this,e},t.create=function(e,t){return new vt(e,t)},t}(dt),vt=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return re(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Ke},t}(bt),wt={now:function(){return(wt.delegate||Date).now()},delegate:void 0},It=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=wt);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return re(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,o=r._timestampProvider,a=r._windowTime;n||(i.push(t),!s&&i.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow,s=(i?1:2)*t;if(t<1/0&&s<n.length&&n.splice(0,n.length-s),!i){for(var o=r.now(),a=0,u=1;u<n.length&&n[u]<=o;u+=2)a=u;a&&n.splice(0,a+1)}},t}(bt),Ct=function(e){function t(t,r){return e.call(this)||this}return re(t,e),t.prototype.schedule=function(e,t){return this},t}(Ye),Et=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return re(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,ee([e,t],te(r)))}(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(i){n=!0,r=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Qe(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Ct),xt=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=wt.now,e}(),Ot=new(function(e){function t(t,r){void 0===r&&(r=xt.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return re(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(xt))(Et),$t=new dt(function(e){return e.complete()});function _t(e){return e[e.length-1]}function At(e){return(t=_t(e))&&Be(t.schedule)?e.pop():void 0;var t}var jt=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Tt(e){return Be(null==e?void 0:e.then)}function St(e){return Be(e[ct])}function Mt(e){return Symbol.asyncIterator&&Be(null==e?void 0:e[Symbol.asyncIterator])}function kt(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Pt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Rt(e){return Be(null==e?void 0:e[Pt])}function qt(e){return ne(this,arguments,function(){var t,r,n;return ie(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,se(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,se(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,se(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Ft(e){return Be(null==e?void 0:e.getReader)}function Dt(e){if(e instanceof dt)return e;if(null!=e){if(St(e))return i=e,new dt(function(e){var t=i[ct]();if(Be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(jt(e))return n=e,new dt(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()});if(Tt(e))return r=e,new dt(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,tt)});if(Mt(e))return Wt(e);if(Rt(e))return t=e,new dt(function(e){var r,n;try{for(var i=Z(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()});if(Ft(e))return Wt(qt(e))}var t,r,n,i;throw kt(e)}function Wt(e){return new dt(function(t){(function(e,t){var r,n,i,s;return oe(this,void 0,void 0,function(){var o,a;return ie(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),r=ae(e),u.label=1;case 1:return[4,r.next()];case 2:if((n=u.sent()).done)return[3,4];if(o=n.value,t.next(o),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),i={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function Ut(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var s=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(s),!i)return s}function Vt(e,t){return void 0===t&&(t=0),ft(function(r,n){r.subscribe(yt(n,function(r){return Ut(n,e,function(){return n.next(r)},t)},function(){return Ut(n,e,function(){return n.complete()},t)},function(r){return Ut(n,e,function(){return n.error(r)},t)}))})}function zt(e,t){return void 0===t&&(t=0),ft(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function Nt(e,t){if(!e)throw new Error("Iterable cannot be null");return new dt(function(r){Ut(r,t,function(){var n=e[Symbol.asyncIterator]();Ut(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function Lt(e,t){return t?function(e,t){if(null!=e){if(St(e))return function(e,t){return Dt(e).pipe(zt(t),Vt(t))}(e,t);if(jt(e))return function(e,t){return new dt(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(Tt(e))return function(e,t){return Dt(e).pipe(zt(t),Vt(t))}(e,t);if(Mt(e))return Nt(e,t);if(Rt(e))return function(e,t){return new dt(function(r){var n;return Ut(r,t,function(){n=e[Pt](),Ut(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(s){return void r.error(s)}i?r.complete():r.next(t)},0,!0)}),function(){return Be(null==n?void 0:n.return)&&n.return()}})}(e,t);if(Ft(e))return function(e,t){return Nt(qt(e),t)}(e,t)}throw kt(e)}(e,t):Dt(e)}function Ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Lt(e,At(e))}function Bt(e,t){var r=Be(e)?e:function(){return e};return new dt(function(e){return e.error(r())})}var Gt=Ge(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function Jt(e,t){return new Promise(function(t,r){var n,i=!1;e.subscribe({next:function(e){n=e,i=!0},error:r,complete:function(){i?t(n):r(new Gt)}})})}function Qt(e,t){return new Promise(function(t,r){var n=new ot({next:function(e){t(e),n.unsubscribe()},error:r,complete:function(){r(new Gt)}});e.subscribe(n)})}function Yt(e,t){return ft(function(r,n){var i=0;r.subscribe(yt(n,function(r){n.next(e.call(t,r,i++))}))})}var Kt=Array.isArray;function Xt(e,t,r){t()}function Zt(e,t,r){return void 0===r&&(r=1/0),Be(t)?Zt(function(r,n){return Yt(function(e,i){return t(r,e,n,i)})(Dt(e(r,n)))},r):("number"==typeof t&&(r=t),ft(function(t,n){return function(e,t,r,n){var i=[],s=0,o=0,a=!1,u=function(){!a||i.length||s||t.complete()},c=function(e){s++;var a=!1;Dt(r(e,o++)).subscribe(yt(t,function(e){t.next(e)},function(){a=!0},void 0,function(){if(a)try{s--;for(var e=function(){var e=i.shift();c(e)};i.length&&s<n;)e();u()}catch(r){t.error(r)}}))};return e.subscribe(yt(t,function(e){return s<n?c(e):i.push(e)},function(){a=!0,u()})),function(){}}(t,n,e,r)}))}function er(e){return void 0===e&&(e=1/0),Zt(lt,e)}function tr(e){return new dt(function(t){Dt(e()).subscribe(t)})}var rr=Array.isArray;function nr(e,t){return ft(function(r,n){var i=0;r.subscribe(yt(n,function(r){return e.call(t,r,i++)&&n.next(r)}))})}function ir(e){return ft(function(t,r){var n,i=null,s=!1;i=t.subscribe(yt(r,void 0,void 0,function(o){n=Dt(e(o,ir(e)(t))),i?(i.unsubscribe(),i=null,n.subscribe(r)):s=!0})),s&&(i.unsubscribe(),i=null,n.subscribe(r))})}function sr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r,n=function(e){return Be(_t(e))?e.pop():void 0}(e);return n?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ht(e)}(sr.apply(void 0,ee([],te(e))),(r=n,Yt(function(e){return function(e,t){return Kt(t)?e.apply(void 0,ee([],te(t))):e(t)}(r,e)}))):ft(function(t,r){var n,i;(n=ee([t],te(function(e){return 1===e.length&&rr(e[0])?e[0]:e}(e))),void 0===i&&(i=lt),function(e){Xt(0,function(){for(var t=n.length,r=new Array(t),s=t,o=t,a=function(t){Xt(0,function(){var a=Lt(n[t],undefined),u=!1;a.subscribe(yt(e,function(n){r[t]=n,u||(u=!0,o--),o||e.next(i(r.slice()))},function(){--s||e.complete()}))})},u=0;u<t;u++)a(u)})})(r)})}function or(e){return ft(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}function ar(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new bt}:t,n=e.resetOnError,i=void 0===n||n,s=e.resetOnComplete,o=void 0===s||s,a=e.resetOnRefCountZero,u=void 0===a||a;return function(e){var t,n,s,a=0,c=!1,l=!1,h=function(){null==n||n.unsubscribe(),n=void 0},d=function(){h(),t=s=void 0,c=l=!1},p=function(){var e=t;d(),null==e||e.unsubscribe()};return ft(function(e,f){a++,l||c||h();var y=s=null!=s?s:r();f.add(function(){0!==--a||l||c||(n=ur(p,u))}),y.subscribe(f),!t&&a>0&&(t=new ot({next:function(e){return y.next(e)},error:function(e){l=!0,h(),n=ur(d,i,e),y.error(e)},complete:function(){c=!0,h(),n=ur(d,o),y.complete()}}),Dt(e).subscribe(t))})(e)}}function ur(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==t){if(!1!==t){var i=new ot({next:function(){i.unsubscribe(),e()}});return Dt(t.apply(void 0,ee([],te(r)))).subscribe(i)}}else e()}function cr(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}var lr={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},hr={0:8203,1:8204,2:8205,3:65279},dr=new Array(4).fill(String.fromCodePoint(hr[0])).join("");function pr(e,t,r="auto"){return!0===r||"auto"===r&&(function(e){return!(!Number.isNaN(Number(e))||/[a-z]/i.test(e)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(e)||!Date.parse(e))}(e)||function(e){try{new URL(e,e.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}(e))?e:`${e}${function(e){let t=JSON.stringify(e);return`${dr}${Array.from(t).map(e=>{let r=e.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${t} on character ${e} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(e=>String.fromCodePoint(hr[e])).join("")}).join("")}`}(t)}`}Object.fromEntries(Object.entries(hr).map(e=>e.reverse())),Object.fromEntries(Object.entries(lr).map(e=>e.reverse()));var fr=`${Object.values(lr).map(e=>`\\u{${e.toString(16)}}`).join("")}`,yr=new RegExp(`[${fr}]{4,}`,"gu");const mr=".",gr=`drafts${mr}`,br=`versions${mr}`;function vr(e){return e.startsWith(gr)}function wr(e){return e.startsWith(br)}function Ir(e){if(wr(e)){const t=xr(e);return gr+t}return vr(e)?e:gr+e}function Cr(e,t){if("drafts"===t||"published"===t)throw new Error('Version can not be "published" or "drafts"');return`${br}${t}${mr}${xr(e)}`}function Er(e){if(!wr(e))return;const[t,r,...n]=e.split(mr);return r}function xr(e){return wr(e)?e.split(mr).slice(2).join(mr):vr(e)?e.slice(gr.length):e}let Or=e=>crypto.getRandomValues(new Uint8Array(e));const $r=/\r\n|[\n\r\u2028\u2029]/;function _r(e,t){var r;let n=0;for(let i=0;i<t.length;i++){const r=t[i].length+1;if(n+r>e)return{line:i+1,column:e-n};n+=r}return{line:t.length,column:(null==(r=t[t.length-1])?void 0:r.length)??0}}class Ar extends Error{constructor(e,t){const r=Tr(e,t);super(r.message),G(this,"response"),G(this,"statusCode",400),G(this,"responseBody"),G(this,"details"),Object.assign(this,r)}}class jr extends Error{constructor(e){const t=Tr(e);super(t.message),G(this,"response"),G(this,"statusCode",500),G(this,"responseBody"),G(this,"details"),Object.assign(this,t)}}function Tr(e,t){var r,n;const i=e.body,s={response:e,statusCode:e.statusCode,responseBody:Pr(i,e),message:"",details:void 0};if(!cr(i))return s.message=kr(e,i),s;const o=i.error;if("string"==typeof o&&"string"==typeof i.message)return s.message=`${o} - ${i.message}`,s;if("object"!=typeof o||null===o)return"string"==typeof o?s.message=o:"string"==typeof i.message?s.message=i.message:s.message=kr(e,i),s;if(function(e){return"type"in e&&"mutationError"===e.type&&"description"in e&&"string"==typeof e.description}(o)||function(e){return"type"in e&&"actionError"===e.type&&"description"in e&&"string"==typeof e.description}(o)){const e=o.items||[],t=e.slice(0,5).map(e=>{var t;return null==(t=e.error)?void 0:t.description}).filter(Boolean);let r=t.length?`:\n- ${t.join("\n- ")}`:"";return e.length>5&&(r+=`\n...and ${e.length-5} more`),s.message=`${o.description}${r}`,s.details=i.error,s}if(Sr(o)){const e=null==(n=null==(r=null==t?void 0:t.options)?void 0:r.query)?void 0:n.tag;return s.message=Mr(o,e),s.details=i.error,s}return"description"in o&&"string"==typeof o.description?(s.message=o.description,s.details=o,s):(s.message=kr(e,i),s)}function Sr(e){return cr(e)&&"queryParseError"===e.type&&"string"==typeof e.query&&"number"==typeof e.start&&"number"==typeof e.end}function Mr(e,t){const{query:r,start:n,end:i,description:s}=e;if(!r||typeof n>"u")return`GROQ query parse error: ${s}`;const o=t?`\n\nTag: ${t}`:"";return`GROQ query parse error:\n${function(e,t,r){const n=e.split($r),i={start:_r(t.start,n),end:t.end?_r(t.end,n):void 0},{start:s,end:o,markerLines:a}=function(e,t){const r={...e.start},n={...r,...e.end},i=r.line??-1,s=r.column??0,o=n.line,a=n.column;let u=Math.max(i-3,0),c=Math.min(t.length,o+3);-1===i&&(u=0),-1===o&&(c=t.length);const l=o-i,h={};if(l)for(let d=0;d<=l;d++){const e=d+i;if(s)if(0===d){const r=t[e-1].length;h[e]=[s,r-s+1]}else if(d===l)h[e]=[0,a];else{const r=t[e-d].length;h[e]=[0,r]}else h[e]=!0}else h[i]=s===a?!s||[s,0]:[s,a-s];return{start:u,end:c,markerLines:h}}(i,n),u=`${o}`.length;return e.split($r,o).slice(s,o).map((e,t)=>{const n=s+1+t,i=` ${` ${n}`.slice(-u)} |`,o=a[n],c=!a[n+1];if(!o)return` ${i}${e.length>0?` ${e}`:""}`;let l="";if(Array.isArray(o)){const t=e.slice(0,Math.max(o[0]-1,0)).replace(/[^\t]/g," "),n=o[1]||1;l=["\n ",i.replace(/\d/g," ")," ",t,"^".repeat(n)].join(""),c&&r&&(l+=" "+r)}return[">",i,e.length>0?` ${e}`:"",l].join("")}).join("\n")}(r,{start:n,end:i},s)}${o}`}function kr(e,t){const r="string"==typeof t?` (${i=t,i.length>100?`${i.slice(0,100)}â€¦`:i})`:"",n=e.statusMessage?` ${e.statusMessage}`:"";var i;return`${e.method}-request to ${e.url} resulted in HTTP ${e.statusCode}${n}${r}`}function Pr(e,t){return-1!==(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(e,null,2):e}class Rr extends Error{constructor({projectId:e}){super("CorsOriginError"),G(this,"projectId"),G(this,"addOriginUrl"),this.name="CorsOriginError",this.projectId=e;const t=new URL(`https://sanity.io/manage/project/${e}/api`);if(typeof location<"u"){const{origin:e}=location;t.searchParams.set("cors","add"),t.searchParams.set("origin",e),this.addOriginUrl=t,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${t}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${t}`}}const qr={onResponse:(e,t)=>{if(e.statusCode>=500)throw new jr(e);if(e.statusCode>=400)throw new Ar(e,t);return e}};function Fr(e={}){const t={},r=t=>void 0!==e.ignoreWarnings&&(Array.isArray(e.ignoreWarnings)?e.ignoreWarnings:[e.ignoreWarnings]).some(e=>"string"==typeof e?t.includes(e):e instanceof RegExp&&e.test(t));return{onResponse:e=>{const n=e.headers["x-sanity-warning"],i=Array.isArray(n)?n:[n];for(const s of i)!s||t[s]||r(s)||(t[s]=!0);return e}}}function Dr(e,t={}){return Ae([He({shouldRetry:Wr}),...e,Fr(t),{processOptions:e=>{const t=e.body;return!t||"function"==typeof t.pipe||qe(t)||-1===De.indexOf(typeof t)&&!Array.isArray(t)&&!function(e){if(!1===Fe(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!(!1===Fe(r)||!1===r.hasOwnProperty("isPrototypeOf"))}(t)?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}},We(),{onRequest:e=>{if("xhr"!==e.adapter)return;const t=e.request,r=e.context;function n(e){return t=>{const n=t.lengthComputable?t.loaded/t.total*100:-1;r.channels.progress.publish({stage:e,percent:n,total:t.total,loaded:t.loaded,lengthComputable:t.lengthComputable})}}"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=n("upload")),"onprogress"in t&&(t.onprogress=n("download"))}},qr,ze({implementation:dt})])}function Wr(e,t,r){if(0===r.maxRetries)return!1;const n="GET"===r.method||"HEAD"===r.method,i=(r.uri||r.url).startsWith("/data/query"),s=e.response&&(429===e.response.statusCode||502===e.response.statusCode||503===e.response.statusCode);return!(!n&&!i||!s)||He.shouldRetry(e,t,r)}function Ur(e){return"https://www.sanity.io/help/"+e}const Vr=["image","file"],zr=["before","after","replace"],Nr=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Lr=(e,t)=>{if(null===t||"object"!=typeof t||Array.isArray(t))throw new Error(`${e}() takes an object of properties`)},Hr=(e,t)=>{if("string"!=typeof t||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error(`${e}(): "${t}" is not a valid document ID`)},Br=(e,t)=>{if(!t._id)throw new Error(`${e}() requires that the document contains an ID ("_id" property)`);Hr(e,t._id)},Gr=(e,t)=>{if(!t._type)throw new Error(`\`${e}()\` requires that the document contains a type (\`_type\` property)`);((e,t)=>{if("string"!=typeof t)throw new Error(`\`${e}()\`: \`${t}\` is not a valid document type`)})(e,t._type)},Jr=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},Qr=e=>{if("string"!=typeof e||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e},Yr=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:r}=e["~experimental_resource"];switch(t){case"dataset":if(2!==r.split(".").length)throw new Error('Dataset resource ID must be in the format "project.dataset"');return;case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}},Kr=(e,t)=>{if(t["~experimental_resource"])throw new Error(`\`${e}\` does not support resource-based operations`)},Xr=e=>function(){let e,t=!1;return(...r)=>(t||(e=void 0,t=!0),e)}(),Zr=Xr(),en=Xr(),tn=Xr(),rn=Xr(),nn=Xr(Ur("js-client-browser-token")),sn=Xr(),on=Xr(Ur("js-client-api-version")),an=Xr(),un={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},cn=["localhost","127.0.0.1","0.0.0.0"];function ln(e){if(Array.isArray(e)&&e.length>1&&e.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const hn=(e,t)=>{const r={...t,...e,stega:{..."boolean"==typeof t.stega?{enabled:t.stega}:t.stega||un.stega,..."boolean"==typeof e.stega?{enabled:e.stega}:e.stega||{}}};r.apiVersion||on();const n={...un,...r},i=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){const e=Ur("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${e}`)}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&Yr(n),typeof n.perspective<"u"&&ln(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if("boolean"!=typeof n.stega.enabled)throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&void 0===n.stega.studioUrl)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&"string"!=typeof n.stega.studioUrl&&"function"!=typeof n.stega.studioUrl)throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const s=typeof window<"u"&&window.location&&window.location.hostname,o=s&&(e=>-1!==cn.indexOf(e))(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(sn(),n.withCredentials=!1),s&&o&&a&&!0!==n.ignoreBrowserTokenWarning?nn():typeof n.useCdn>"u"&&en(),i&&(e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")})(n.projectId),n.dataset&&Nr(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Qr(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===un.apiHost,!0===n.useCdn&&n.withCredentials&&Zr(),n.useCdn=!1!==n.useCdn&&!n.withCredentials,function(e){if("1"===e||"X"===e)return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}(n.apiVersion);const u=n.apiHost.split("://",2),c=u[0],l=u[1],h=n.isDefaultApi?"apicdn.sanity.io":l;return i?(n.url=`${c}://${n.projectId}.${l}/v${n.apiVersion}`,n.cdnUrl=`${c}://${n.projectId}.${h}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class dn extends Error{constructor(){super(...arguments),G(this,"name","ConnectionFailedError")}}class pn extends Error{constructor(e,t,r={}){super(e,r),G(this,"name","DisconnectError"),G(this,"reason"),this.reason=t}}class fn extends Error{constructor(e,t){super(e),G(this,"name","ChannelError"),G(this,"data"),this.data=t}}class yn extends Error{constructor(e,t,r={}){super(e,r),G(this,"name","MessageError"),G(this,"data"),this.data=t}}class mn extends Error{constructor(){super(...arguments),G(this,"name","MessageParseError")}}const gn=["channelError","disconnect"];function bn(e,t){return tr(()=>{const t=e();return(r=t)&&(r instanceof dt||Be(r.lift)&&Be(r.subscribe))?t:Ht(t);var r}).pipe(Zt(e=>function(e,t){return new dt(r=>{const n=t.includes("open"),i=t.includes("reconnect");function s(t){if("data"in t){const[e,n]=vn(t);return void r.error(e?new mn("Unable to parse EventSource error message",{cause:n}):new yn((null==n?void 0:n.data).message,n))}e.readyState===e.CLOSED?r.error(new dn("EventSource connection failed")):i&&r.next({type:"reconnect"})}function o(){r.next({type:"open"})}function a(t){var n;const[i,s]=vn(t);if(i)r.error(new mn("Unable to parse EventSource message",{cause:i}));else{if("channelError"===t.type){const t=new URL(e.url).searchParams.get("tag");return void r.error(new fn(function(e,t){const r=e.error;return r?Sr(r)?Mr(r,t):r.description?r.description:"string"==typeof r?r:JSON.stringify(r,null,2):e.message||"Unknown listener error"}(null==s?void 0:s.data,t),s.data))}"disconnect"!==t.type?r.next({type:t.type,id:t.lastEventId,...s.data?{data:s.data}:{}}):r.error(new pn(`Server disconnected client: ${(null==(n=s.data)?void 0:n.reason)||"unknown error"}`))}}e.addEventListener("error",s),n&&e.addEventListener("open",o);const u=[...new Set([...gn,...t])].filter(e=>"error"!==e&&"open"!==e&&"reconnect"!==e);return u.forEach(t=>e.addEventListener(t,a)),()=>{e.removeEventListener("error",s),n&&e.removeEventListener("open",o),u.forEach(t=>e.removeEventListener(t,a)),e.close()}})}(e,t)))}function vn(e){try{const t="string"==typeof e.data&&JSON.parse(e.data);return[null,{type:e.type,id:e.lastEventId,...wn(t)?{}:{data:t}}]}catch(t){return[t,null]}}function wn(e){for(const t in e)return!1;return!0}function In(e){if("string"==typeof e)return{id:e};if(Array.isArray(e))return{query:"*[_id in $ids]",params:{ids:e}};if("object"==typeof e&&null!==e&&"query"in e&&"string"==typeof e.query)return"params"in e&&"object"==typeof e.params&&null!==e.params?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error(`Unknown selection - must be one of:\n\n${t}`)}class Cn{constructor(e,t={}){G(this,"selection"),G(this,"operations"),this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Lr("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,r){return((e,t,r)=>{const n="insert(at, selector, items)";if(-1===zr.indexOf(e)){const e=zr.map(e=>`"${e}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${e}`)}if("string"!=typeof t)throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)})(e,t,r),this._assign("insert",{[e]:t,items:r})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,r,n){const i=t<0?t-1:t,s=typeof r>"u"||-1===r?-1:Math.max(0,t+r),o=`${e}[${i}:${i<0&&s>=0?"":s}]`;return this.insert("replace",o,n||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...In(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,r=!0){return Lr(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},r&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}u=new WeakMap;let En=class e extends Cn{constructor(e,t,r){super(e,t),Y(this,u),K(this,u,r)}clone(){return new e(this.selection,{...this.operations},Q(this,u))}commit(e){if(!Q(this,u))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t="string"==typeof this.selection,r=Object.assign({returnFirst:t,returnDocuments:!0},e);return Q(this,u).mutate({patch:this.serialize()},r)}};c=new WeakMap;let xn=class e extends Cn{constructor(e,t,r){super(e,t),Y(this,c),K(this,c,r)}clone(){return new e(this.selection,{...this.operations},Q(this,c))}commit(e){if(!Q(this,c))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t="string"==typeof this.selection,r=Object.assign({returnFirst:t,returnDocuments:!0},e);return Q(this,c).mutate({patch:this.serialize()},r)}};const On={returnDocuments:!1};class $n{constructor(e=[],t){G(this,"operations"),G(this,"trxId"),this.operations=e,this.trxId=t}create(e){return Lr("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return Lr(t,e),Br(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return Lr(t,e),Br(t,e),this._add({[t]:e})}delete(e){return Hr("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}l=new WeakMap;let _n=class e extends $n{constructor(e,t,r){super(e,r),Y(this,l),K(this,l,t)}clone(){return new e([...this.operations],Q(this,l),this.trxId)}commit(e){if(!Q(this,l))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Q(this,l).mutate(this.serialize(),Object.assign({transactionId:this.trxId},On,e||{}))}patch(e,t){const r="function"==typeof t,n="object"==typeof e&&("query"in e||"id"in e);if("string"!=typeof e&&e instanceof xn)return this._add({patch:e.serialize()});if(r){const r=t(new xn(e,{},Q(this,l)));if(!(r instanceof xn))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:r.serialize()})}if(n){const r=new xn(e,t||{},Q(this,l));return this._add({patch:r.serialize()})}return this._add({patch:{id:e,...t}})}};h=new WeakMap;let An=class e extends $n{constructor(e,t,r){super(e,r),Y(this,h),K(this,h,t)}clone(){return new e([...this.operations],Q(this,h),this.trxId)}commit(e){if(!Q(this,h))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Q(this,h).mutate(this.serialize(),Object.assign({transactionId:this.trxId},On,e||{}))}patch(e,t){const r="function"==typeof t;if("string"!=typeof e&&e instanceof En)return this._add({patch:e.serialize()});if(r){const r=t(new En(e,{},Q(this,h)));if(!(r instanceof En))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:r.serialize()})}return this._add({patch:{id:e,...t}})}};const jn=({query:e,params:t={},options:r={}})=>{const n=new URLSearchParams,{tag:i,includeMutations:s,returnQuery:o,...a}=r;i&&n.append("tag",i),n.append("query",e);for(const[u,c]of Object.entries(t))void 0!==c&&n.append(`$${u}`,JSON.stringify(c));for(const[u,c]of Object.entries(a))c&&n.append(u,`${c}`);return!1===o&&n.append("returnQuery","false"),!1===s&&n.append("includeMutations","false"),`?${n}`},Tn=(e={})=>{return{dryRun:e.dryRun,returnIds:!0,returnDocuments:(t=e.returnDocuments,!1===t?void 0:typeof t>"u"||t),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation};var t},Sn=e=>"response"===e.type,Mn=e=>e.body;function kn(e,t,r,n,i={},s={}){const o="stega"in s?{...r||{},..."boolean"==typeof s.stega?{enabled:s.stega}:s.stega||{}}:r,a=o.enabled?(p=i)&&JSON.parse(function(e){var t;return{cleaned:e.replace(yr,""),encoded:(null==(t=e.match(yr))?void 0:t[0])||""}}(JSON.stringify(p)).cleaned):i,u=!1===s.filterResponse?e=>e:e=>e.result,{cache:c,next:l,...h}={useAbortSignal:typeof s.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:!1===s.filterResponse&&!1!==s.returnQuery},d=Gn(e,t,"query",{query:n,params:a},typeof c<"u"||typeof l<"u"?{...h,fetch:{cache:c,next:l}}:h);var p;return o.enabled?d.pipe(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return sr.apply(void 0,ee([],te(e)))}(Lt(X(()=>import("./stegaEncodeSourceMap-C59nKoKj.js"),__vite__mapDeps([0,1,2,3,4])).then(function(e){return e.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:e})=>e))),Yt(([e,t])=>{const r=t(e.result,e.resultSourceMap,o);return u({...e,result:r})})):d.pipe(Yt(u))}function Pn(e,t,r,n={}){return Xn(e,t,{uri:ei(e,"doc",(()=>{if(!n.releaseId)return r;const e=Er(r);if(!e){if(vr(r))throw new Error(`The document ID (\`${r}\`) is a draft, but \`options.releaseId\` is set as \`${n.releaseId}\``);return Cr(r,n.releaseId)}if(e!==n.releaseId)throw new Error(`The document ID (\`${r}\`) is already a version of \`${e}\` release, but this does not match the provided \`options.releaseId\` (\`${n.releaseId}\`)`);return r})()),json:!0,tag:n.tag,signal:n.signal,query:void 0!==n.includeAllVersions?{includeAllVersions:n.includeAllVersions}:void 0}).pipe(nr(Sn),Yt(e=>{const t=e.body.documents;return t?n.includeAllVersions?t:t[0]:n.includeAllVersions?[]:void 0}))}function Rn(e,t,r,n={}){return Xn(e,t,{uri:ei(e,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal}).pipe(nr(Sn),Yt(e=>{const t=(n=e.body.documents||[],i=e=>e._id,n.reduce((e,t)=>(e[i(t)]=t,e),Object.create(null)));var n,i;return r.map(e=>t[e]||null)}))}function qn(e,t,r,n={}){return Gn(e,t,"query",{query:"*[sanity::partOfRelease($releaseId)]",params:{releaseId:r}},n)}function Fn(e,t,r,n){return Br("createIfNotExists",r),Jn(e,t,r,"createIfNotExists",n)}function Dn(e,t,r,n){return Br("createOrReplace",r),Jn(e,t,r,"createOrReplace",n)}function Wn(e,t,r,n,i){return Br("createVersion",r),Gr("createVersion",r),an(),Bn(e,t,{actionType:"sanity.action.document.version.create",publishedId:n,document:r},i)}function Un(e,t,r,n,i,s,o){if(!n)throw new Error("`createVersion()` requires `baseId` when no `document` is provided");if(!r)throw new Error("`createVersion()` requires `publishedId` when `baseId` is provided");return Hr("createVersion",n),Hr("createVersion",r),Bn(e,t,{actionType:"sanity.action.document.version.create",publishedId:r,baseId:n,versionId:i?Cr(r,i):Ir(r),ifBaseRevisionId:s},o)}function Vn(e,t,r,n){return Gn(e,t,"mutate",{mutations:[{delete:In(r)}]},n)}function zn(e,t,r,n=!1,i){return Bn(e,t,{actionType:"sanity.action.document.version.discard",versionId:r,purge:n},i)}function Nn(e,t,r,n){return Br("replaceVersion",r),Gr("replaceVersion",r),Bn(e,t,{actionType:"sanity.action.document.version.replace",document:r},n)}function Ln(e,t,r,n,i){return Bn(e,t,{actionType:"sanity.action.document.version.unpublish",versionId:r,publishedId:n},i)}function Hn(e,t,r,n){let i;return i=r instanceof xn||r instanceof En?{patch:r.serialize()}:r instanceof _n||r instanceof An?r.serialize():r,Gn(e,t,"mutate",{mutations:Array.isArray(i)?i:[i],transactionId:n&&n.transactionId||void 0},n)}function Bn(e,t,r,n){return Gn(e,t,"actions",{actions:Array.isArray(r)?r:[r],transactionId:n&&n.transactionId||void 0,skipCrossDatasetReferenceValidation:n&&n.skipCrossDatasetReferenceValidation||void 0,dryRun:n&&n.dryRun||void 0},n)}function Gn(e,t,r,n,i={}){const s="mutate"===r,o="actions"===r,a="query"===r,u=s||o?"":jn(n),c=!s&&!o&&u.length<11264,l=c?u:"",h=i.returnFirst,{timeout:d,token:p,tag:f,headers:y,returnQuery:m,lastLiveEventId:g,cacheMode:b}=i;return Xn(e,t,{method:c?"GET":"POST",uri:ei(e,r,l),json:!0,body:c?void 0:n,query:s&&Tn(i),timeout:d,headers:y,token:p,tag:f,returnQuery:m,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(g)?g[0]:g,cacheMode:b,canUseCdn:a,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn}).pipe(nr(Sn),Yt(Mn),Yt(e=>{if(!s)return e;const t=e.results||[];if(i.returnDocuments)return h?t[0]&&t[0].document:t.map(e=>e.document);const r=h?"documentId":"documentIds",n=h?t[0]&&t[0].id:t.map(e=>e.id);return{transactionId:e.transactionId,results:t,[r]:n}}))}function Jn(e,t,r,n,i={}){return Gn(e,t,"mutate",{mutations:[{[n]:r}]},Object.assign({returnFirst:!0,returnDocuments:!0},i))}const Qn=e=>void 0!==e.config().dataset&&void 0!==e.config().projectId||void 0!==e.config()["~experimental_resource"],Yn=(e,t)=>Qn(e)&&t.startsWith(ei(e,"query")),Kn=(e,t)=>t.startsWith("/data/")||Yn(e,t)||((e,t)=>Qn(e)&&t.startsWith(ei(e,"mutate")))(e,t)||((e,t)=>Qn(e)&&t.startsWith(ei(e,"doc","")))(e,t)||((e,t)=>Qn(e)&&t.startsWith(ei(e,"listen")))(e,t)||((e,t)=>Qn(e)&&t.startsWith(ei(e,"history","")))(e,t);function Xn(e,t,r){const n=r.url||r.uri,i=e.config(),s=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&Kn(e,n):r.canUseCdn;let o=(r.useCdn??i.useCdn)&&s;const a=r.tag&&i.requestTagPrefix?[i.requestTagPrefix,r.tag].join("."):r.tag||i.requestTagPrefix;if(a&&null!==r.tag&&(r.query={tag:Qr(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&Yn(e,n)){const e=r.resultSourceMap??i.resultSourceMap;void 0!==e&&!1!==e&&(r.query={resultSourceMap:e,...r.query});const t=r.perspective||i.perspective;typeof t<"u"&&("previewDrafts"===t&&rn(),ln(t),r.query={perspective:Array.isArray(t)?t.join(","):t,...r.query},(Array.isArray(t)&&t.length>0||"previewDrafts"===t||"drafts"===t)&&o&&(o=!1,tn())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),!1===r.returnQuery&&(r.query={returnQuery:"false",...r.query}),o&&"noStale"==r.cacheMode&&(r.query={cacheMode:"noStale",...r.query})}const u=function(e,t={}){const r={};e.headers&&Object.assign(r,e.headers);const n=t.token||e.token;n&&(r.Authorization=`Bearer ${n}`),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(r["X-Sanity-Project-ID"]=e.projectId);const i=!!(typeof t.withCredentials>"u"?e.withCredentials:t.withCredentials),s=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},r,t.headers||{}),timeout:typeof s>"u"?3e5:s,proxy:t.proxy||e.proxy,json:!0,withCredentials:i,fetch:"object"==typeof t.fetch&&"object"==typeof e.fetch?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}(i,Object.assign({},r,{url:ti(e,n,o)})),c=new dt(e=>t(u,i.requester).subscribe(e));return r.signal?c.pipe((l=r.signal,e=>new dt(t=>{const r=()=>t.error(function(e){if(ri)return new DOMException((null==e?void 0:e.reason)??"The operation was aborted.","AbortError");const t=new Error((null==e?void 0:e.reason)??"The operation was aborted.");return t.name="AbortError",t}(l));if(l&&l.aborted)return void r();const n=e.subscribe(t);return l.addEventListener("abort",r),()=>{l.removeEventListener("abort",r),n.unsubscribe()}}))):c;var l}function Zn(e,t,r){return Xn(e,t,r).pipe(nr(e=>"response"===e.type),Yt(e=>e.body))}function ei(e,t,r){const n=e.config();if(n["~experimental_resource"])return Yr(n),`${ni(n)}/${void 0!==r?`${t}/${r}`:t}`.replace(/\/($|\?)/,"$1");const i=`/${t}/${Jr(n)}`;return`/data${void 0!==r?`${i}/${r}`:i}`.replace(/\/($|\?)/,"$1")}function ti(e,t,r=!1){const{url:n,cdnUrl:i}=e.config();return`${r?i:n}/${t.replace(/^\//,"")}`}const ri=!!globalThis.DOMException,ni=e=>{if(!e["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:t,id:r}=e["~experimental_resource"];switch(t){case"dataset":{const e=r.split(".");if(2!==e.length)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${e[0]}/datasets/${e[1]}`}case"canvas":return`/canvases/${r}`;case"media-library":return`/media-libraries/${r}`;case"dashboard":return`/dashboards/${r}`;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}};function ii(e,t,r){const n=Jr(e.config());return Zn(e,t,{method:"POST",uri:`/agent/action/generate/${n}`,body:r})}function si(e,t,r){const n=Jr(e.config());return Zn(e,t,{method:"POST",uri:`/agent/action/transform/${n}`,body:r})}function oi(e,t,r){const n=Jr(e.config());return Zn(e,t,{method:"POST",uri:`/agent/action/translate/${n}`,body:r})}class ai{constructor(e,t){Y(this,d),Y(this,p),K(this,d,e),K(this,p,t)}generate(e){return ii(Q(this,d),Q(this,p),e)}transform(e){return si(Q(this,d),Q(this,p),e)}translate(e){return oi(Q(this,d),Q(this,p),e)}}d=new WeakMap,p=new WeakMap;class ui{constructor(e,t){Y(this,f),Y(this,y),K(this,f,e),K(this,y,t)}generate(e){return Jt(ii(Q(this,f),Q(this,y),e))}transform(e){return Jt(si(Q(this,f),Q(this,y),e))}translate(e){return Jt(oi(Q(this,f),Q(this,y),e))}prompt(e){return Jt(function(e,t,r){const n=Jr(e.config());return Zn(e,t,{method:"POST",uri:`/agent/action/prompt/${n}`,body:r})}(Q(this,f),Q(this,y),e))}patch(e){return Jt(function(e,t,r){const n=Jr(e.config());return Zn(e,t,{method:"POST",uri:`/agent/action/patch/${n}`,body:r})}(Q(this,f),Q(this,y),e))}}f=new WeakMap,y=new WeakMap;class ci{constructor(e,t){Y(this,m),Y(this,g),K(this,m,e),K(this,g,t)}upload(e,t,r){return hi(Q(this,m),Q(this,g),e,t,r)}}m=new WeakMap,g=new WeakMap;class li{constructor(e,t){Y(this,b),Y(this,v),K(this,b,e),K(this,v,t)}upload(e,t,r){return Jt(hi(Q(this,b),Q(this,v),e,t,r).pipe(nr(e=>"response"===e.type),Yt(e=>e.body.document)))}}function hi(e,t,r,n,i={}){(e=>{if(-1===Vr.indexOf(e))throw new Error(`Invalid asset type: ${e}. Must be one of ${Vr.join(", ")}`)})(r);let s=i.extract||void 0;s&&!s.length&&(s=["none"]);const o=e.config(),a=function(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:!1===e.preserveFilename?void 0:t.name,contentType:t.type},e)}(i,n),{tag:u,label:c,title:l,description:h,creditLine:d,filename:p,source:f}=a,y={label:c,title:l,description:h,filename:p,meta:s,creditLine:d};return f&&(y.sourceId=f.id,y.sourceName=f.name,y.sourceUrl=f.url),Xn(e,t,{tag:u,method:"POST",timeout:a.timeout||0,uri:di(o,r),headers:a.contentType?{"Content-Type":a.contentType}:{},query:y,body:n})}function di(e,t){const r="image"===t?"images":"files";if(e["~experimental_resource"]){const{type:t,id:n}=e["~experimental_resource"];switch(t){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${n}/assets/${r}`;case"media-library":return`/media-libraries/${n}/upload`;case"dashboard":return`/dashboards/${n}/assets/${r}`;default:throw new Error(`Unsupported resource type: ${t.toString()}`)}}return`assets/${r}/${Jr(e)}`}b=new WeakMap,v=new WeakMap;const pi=tr(()=>X(()=>import("./browser-52rAjx-D.js").then(e=>e.b),__vite__mapDeps([5,2]))).pipe(Yt(({default:e})=>e),ar({connector:function(){return new It(1,undefined,undefined)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:!1}));function fi(){return function(e){return e.pipe(ir((e,t)=>e instanceof dn?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return er(1)(Lt(e,At(e)))}(Ht({type:"reconnect"}),function(e,t,r){return void 0===r&&(r=Ot),new dt(function(t){var n,i=(n=e)instanceof Date&&!isNaN(n)?+e-r.now():e;i<0&&(i=0);var s=0;return r.schedule(function(){t.closed||(t.next(s++),t.complete())},i)})}(1e3).pipe(Zt(()=>t))):Bt(()=>e)))}}const yi=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],mi={includeResult:!0};function gi(e,t,r={}){const{url:n,token:i,withCredentials:s,requestTagPrefix:o,headers:a}=this.config(),u=r.tag&&o?[o,r.tag].join("."):r.tag,c={...(d=r,p=mi,Object.keys(p).concat(Object.keys(d)).reduce((e,t)=>(e[t]=typeof d[t]>"u"?p[t]:d[t],e),{})),tag:u},l=(e=>yi.reduce((t,r)=>(typeof e[r]>"u"||(t[r]=e[r]),t),{}))(c),h=`${n}${ei(this,"listen",jn({query:e,params:t,options:{tag:u,...l}}))}`;var d,p;if(h.length>14800)return Bt(()=>new Error("Query too large for listener"));const f=c.events?c.events:["mutation"],y={};return s&&(y.withCredentials=!0),(i||a)&&(y.headers={},i&&(y.headers.Authorization=`Bearer ${i}`),a&&Object.assign(y.headers,a)),bn(()=>(typeof EventSource>"u"||y.headers?pi:Ht(EventSource)).pipe(Yt(e=>new e(h,y))),f).pipe(fi(),nr(e=>f.includes(e.type)),Yt(e=>({type:e.type,..."data"in e?e.data:{}})))}function bi(e,t){return function(e){return t=>{let r,n=!1;const{predicate:i,...s}=e,o=t.pipe((l=Be(a=t=>{e.predicate(t)&&(n=!0,r=t)})?{next:a,error:u,complete:c}:a)?ft(function(e,t){var r;null===(r=l.subscribe)||void 0===r||r.call(l);var n=!0;e.subscribe(yt(t,function(e){var r;null===(r=l.next)||void 0===r||r.call(l,e),t.next(e)},function(){var e;n=!1,null===(e=l.complete)||void 0===e||e.call(l),t.complete()},function(e){var r;n=!1,null===(r=l.error)||void 0===r||r.call(l,e),t.error(e)},function(){var e,t;n&&(null===(e=l.unsubscribe)||void 0===e||e.call(l)),null===(t=l.finalize)||void 0===t||t.call(l)}))}):lt,or(()=>{n=!1,r=void 0}),ar(s));var a,u,c,l;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=At(e),n=function(e){return"number"==typeof _t(e)?e.pop():1/0}(e),i=e;return i.length?1===i.length?Dt(i[0]):er(n)(Lt(i,r)):$t}(o,new dt(e=>{n&&e.next(r),e.complete()}))}}("function"==typeof e?{predicate:e,...t}:e)}const vi="2021-03-25";class wi{constructor(e){Y(this,w),K(this,w,e)}events({includeDrafts:e=!1,tag:t}={}){Kr("live",Q(this,w).config());const{projectId:r,apiVersion:n,token:i,withCredentials:s,requestTagPrefix:o,headers:a}=Q(this,w).config(),u=n.replace(/^v/,"");if("X"!==u&&u<vi)throw new Error(`The live events API requires API version ${vi} or later. The current API version is ${u}. Please update your API version to use this feature.`);if(e&&!i&&!s)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const c=ei(Q(this,w),"live/events"),l=new URL(Q(this,w).getUrl(c,!1)),h=t&&o?[o,t].join("."):t;h&&l.searchParams.set("tag",h),e&&l.searchParams.set("includeDrafts","true");const d={};e&&s&&(d.withCredentials=!0),(e&&i||a)&&(d.headers={},e&&i&&(d.headers.Authorization=`Bearer ${i}`),a&&Object.assign(d.headers,a));const p=`${l.href}::${JSON.stringify(d)}`,f=Ii.get(p);if(f)return f;const y=bn(()=>(typeof EventSource>"u"||d.headers?pi:Ht(EventSource)).pipe(Yt(e=>new e(l.href,d))),["message","restart","welcome","reconnect","goaway"]),m=function(e,t){return new dt(r=>{const n=new AbortController,i=n.signal;return fetch(e,{...t,signal:n.signal}).then(e=>{r.next(e),r.complete()},e=>{i.aborted||r.error(e)}),()=>n.abort()})}(l,{method:"OPTIONS",mode:"cors",credentials:d.withCredentials?"include":"omit",headers:d.headers}).pipe(ir(()=>{throw new Rr({projectId:r})})),g=y.pipe(fi(),Zt(e=>"reconnect"===e.type?m.pipe(Zt(()=>Ht(e))):Ht(e)),ir(e=>m.pipe(Zt(()=>{throw e}))),Yt(e=>{if("message"===e.type){const{data:t,...r}=e;return{...r,tags:t.tags}}return e})).pipe(or(()=>Ii.delete(p)),bi({predicate:e=>"welcome"===e.type}));return Ii.set(p,g),g}}w=new WeakMap;const Ii=new Map;class Ci{constructor(e,t){Y(this,I),Y(this,C),K(this,I,e),K(this,C,t)}create(e,t){return xi(Q(this,I),Q(this,C),"PUT",e,t)}edit(e,t){return xi(Q(this,I),Q(this,C),"PATCH",e,t)}delete(e){return xi(Q(this,I),Q(this,C),"DELETE",e)}list(){Kr("dataset",Q(this,I).config());const e=Q(this,I).config(),t=e.projectId;let r="/datasets";return!1===e.useProjectHostname&&(r=`/projects/${t}/datasets`),Zn(Q(this,I),Q(this,C),{uri:r,tag:null})}}I=new WeakMap,C=new WeakMap;class Ei{constructor(e,t){Y(this,E),Y(this,x),K(this,E,e),K(this,x,t)}create(e,t){return Kr("dataset",Q(this,E).config()),Jt(xi(Q(this,E),Q(this,x),"PUT",e,t))}edit(e,t){return Kr("dataset",Q(this,E).config()),Jt(xi(Q(this,E),Q(this,x),"PATCH",e,t))}delete(e){return Kr("dataset",Q(this,E).config()),Jt(xi(Q(this,E),Q(this,x),"DELETE",e))}list(){Kr("dataset",Q(this,E).config());const e=Q(this,E).config(),t=e.projectId;let r="/datasets";return!1===e.useProjectHostname&&(r=`/projects/${t}/datasets`),Jt(Zn(Q(this,E),Q(this,x),{uri:r,tag:null}))}}function xi(e,t,r,n,i){return Kr("dataset",e.config()),Nr(n),Zn(e,t,{method:r,uri:`/datasets/${n}`,body:i,tag:null})}E=new WeakMap,x=new WeakMap;class Oi{constructor(e,t){Y(this,O),Y(this,$),K(this,O,e),K(this,$,t)}getPlaybackInfo(e,t={}){var r;const n=null==(r=Q(this,O).config()["~experimental_resource"])?void 0:r.id,{instanceId:i,libraryId:s}=function(e){const t=function(e){return"object"==typeof e&&"_ref"in e}(e)?e._ref:e,r=_i.exec(t);if(r){const[,e,t]=r;return{libraryId:e,instanceId:t}}if("string"==typeof e&&e.startsWith("video-"))return{instanceId:e};throw new Error(`Invalid video asset instance identifier "${t}": must be a valid video instance id or a Global Dataset Reference (GDR) to the video asset in the Media Library`)}(e),o=s||n;if(!o)throw new Error("Could not determine Media Library ID - you need to provide a valid Media Library ID in the client config or a Media Library GDR");const a=function(e,t){return`/media-libraries/${t}/video/${e}/playback-info`}(i,o),u=function(e){const t={};if(e.transformations){const{thumbnail:r,animated:n,storyboard:i}=e.transformations;r&&(r.width&&(t.thumbnailWidth=r.width),r.height&&(t.thumbnailHeight=r.height),void 0!==r.time&&(t.thumbnailTime=r.time),r.fit&&(t.thumbnailFit=r.fit),r.format&&(t.thumbnailFormat=r.format)),n&&(n.width&&(t.animatedWidth=n.width),n.height&&(t.animatedHeight=n.height),void 0!==n.start&&(t.animatedStart=n.start),void 0!==n.end&&(t.animatedEnd=n.end),n.fps&&(t.animatedFps=n.fps),n.format&&(t.animatedFormat=n.format)),i&&i.format&&(t.storyboardFormat=i.format)}return e.expiration&&(t.expiration=e.expiration),t}(t);return Zn(Q(this,O),Q(this,$),{method:"GET",uri:a,query:u})}}O=new WeakMap,$=new WeakMap;class $i{constructor(e,t){Y(this,_),Y(this,A),K(this,_,e),K(this,A,t)}getPlaybackInfo(e,t={}){return Jt(new Oi(Q(this,_).observable,Q(this,A)).getPlaybackInfo(e,t))}}_=new WeakMap,A=new WeakMap;const _i=/^media-library:(ml[^:]+):([^:]+)$/;class Ai{constructor(e,t){Y(this,j),Y(this,T),K(this,j,e),K(this,T,t)}list(e){const t={};return!1===(null==e?void 0:e.includeMembers)&&(t.includeMembers="false"),(null==e?void 0:e.organizationId)&&(t.organizationId=e.organizationId),Zn(Q(this,j),Q(this,T),{uri:"/projects",query:t})}getById(e){return Zn(Q(this,j),Q(this,T),{uri:`/projects/${e}`})}}j=new WeakMap,T=new WeakMap;class ji{constructor(e,t){Y(this,S),Y(this,M),K(this,S,e),K(this,M,t)}list(e){const t={};return!1===(null==e?void 0:e.includeMembers)&&(t.includeMembers="false"),(null==e?void 0:e.organizationId)&&(t.organizationId=e.organizationId),Jt(Zn(Q(this,S),Q(this,M),{uri:"/projects",query:t}))}getById(e){return Jt(Zn(Q(this,S),Q(this,M),{uri:`/projects/${e}`}))}}S=new WeakMap,M=new WeakMap;const Ti=((e,t=21)=>((e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*n*t/e.length);return(s=t)=>{let o="";for(;;){let t=r(i),a=0|i;for(;a--;)if(o+=e[t[a]&n]||"",o.length===s)return o}}})("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t,Or))(0,8),Si=(e,t)=>t?Cr(e,t):Ir(e);function Mi(e,{releaseId:t,publishedId:r,document:n}){if(r&&n._id){const e=Si(r,t);return((e,t)=>{if(t._id&&t._id!==e)throw new Error(`The provided document ID (\`${t._id}\`) does not match the generated version ID (\`${e}\`)`)})(e,n),e}if(n._id){const r=vr(n._id),i=wr(n._id);if(!r&&!i)throw new Error(`\`${e}()\` requires a document with an \`_id\` that is a version or draft ID`);if(t){if(r)throw new Error(`\`${e}()\` was called with a document ID (\`${n._id}\`) that is a draft ID, but a release ID (\`${t}\`) was also provided.`);const i=Er(n._id);if(i!==t)throw new Error(`\`${e}()\` was called with a document ID (\`${n._id}\`) that is a version ID, but the release ID (\`${t}\`) does not match the document's version ID (\`${i}\`).`)}return n._id}if(r)return Si(r,t);throw new Error(`\`${e}()\` requires either a publishedId or a document with an \`_id\``)}const ki=(e,t)=>{const[r,n,i]=((e,t)=>{if("object"==typeof e&&null!==e&&("releaseId"in e||"metadata"in e)){const{releaseId:r=Ti(),metadata:n={}}=e;return[r,n,t]}return[Ti(),{},e]})(e,t);return{action:{actionType:"sanity.action.release.create",releaseId:r,metadata:{...n,releaseType:n.releaseType||"undecided"}},options:i}};class Pi{constructor(e,t){Y(this,k),Y(this,P),K(this,k,e),K(this,P,t)}get({releaseId:e},t){return Pn(Q(this,k),Q(this,P),`_.releases.${e}`,t)}create(e,t){const{action:r,options:n}=ki(e,t),{releaseId:i,metadata:s}=r;return Bn(Q(this,k),Q(this,P),r,n).pipe(Yt(e=>({...e,releaseId:i,metadata:s})))}edit({releaseId:e,patch:t},r){const n={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return Bn(Q(this,k),Q(this,P),n,r)}publish({releaseId:e},t){const r={actionType:"sanity.action.release.publish",releaseId:e};return Bn(Q(this,k),Q(this,P),r,t)}archive({releaseId:e},t){const r={actionType:"sanity.action.release.archive",releaseId:e};return Bn(Q(this,k),Q(this,P),r,t)}unarchive({releaseId:e},t){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return Bn(Q(this,k),Q(this,P),r,t)}schedule({releaseId:e,publishAt:t},r){const n={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return Bn(Q(this,k),Q(this,P),n,r)}unschedule({releaseId:e},t){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return Bn(Q(this,k),Q(this,P),r,t)}delete({releaseId:e},t){const r={actionType:"sanity.action.release.delete",releaseId:e};return Bn(Q(this,k),Q(this,P),r,t)}fetchDocuments({releaseId:e},t){return qn(Q(this,k),Q(this,P),e,t)}}k=new WeakMap,P=new WeakMap;class Ri{constructor(e,t){Y(this,R),Y(this,q),K(this,R,e),K(this,q,t)}get({releaseId:e},t){return Jt(Pn(Q(this,R),Q(this,q),`_.releases.${e}`,t))}async create(e,t){const{action:r,options:n}=ki(e,t),{releaseId:i,metadata:s}=r;return{...await Jt(Bn(Q(this,R),Q(this,q),r,n)),releaseId:i,metadata:s}}edit({releaseId:e,patch:t},r){const n={actionType:"sanity.action.release.edit",releaseId:e,patch:t};return Jt(Bn(Q(this,R),Q(this,q),n,r))}publish({releaseId:e},t){const r={actionType:"sanity.action.release.publish",releaseId:e};return Jt(Bn(Q(this,R),Q(this,q),r,t))}archive({releaseId:e},t){const r={actionType:"sanity.action.release.archive",releaseId:e};return Jt(Bn(Q(this,R),Q(this,q),r,t))}unarchive({releaseId:e},t){const r={actionType:"sanity.action.release.unarchive",releaseId:e};return Jt(Bn(Q(this,R),Q(this,q),r,t))}schedule({releaseId:e,publishAt:t},r){const n={actionType:"sanity.action.release.schedule",releaseId:e,publishAt:t};return Jt(Bn(Q(this,R),Q(this,q),n,r))}unschedule({releaseId:e},t){const r={actionType:"sanity.action.release.unschedule",releaseId:e};return Jt(Bn(Q(this,R),Q(this,q),r,t))}delete({releaseId:e},t){const r={actionType:"sanity.action.release.delete",releaseId:e};return Jt(Bn(Q(this,R),Q(this,q),r,t))}fetchDocuments({releaseId:e},t){return Jt(qn(Q(this,R),Q(this,q),e,t))}}R=new WeakMap,q=new WeakMap;class qi{constructor(e,t){Y(this,F),Y(this,D),K(this,F,e),K(this,D,t)}getById(e){return Zn(Q(this,F),Q(this,D),{uri:`/users/${e}`})}}F=new WeakMap,D=new WeakMap;class Fi{constructor(e,t){Y(this,W),Y(this,U),K(this,W,e),K(this,U,t)}getById(e){return Jt(Zn(Q(this,W),Q(this,U),{uri:`/users/${e}`}))}}W=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap;let Di=class e{constructor(e,t=un){G(this,"assets"),G(this,"datasets"),G(this,"live"),G(this,"mediaLibrary"),G(this,"projects"),G(this,"users"),G(this,"agent"),G(this,"releases"),Y(this,V),Y(this,z),G(this,"listen",gi),this.config(t),K(this,z,e),this.assets=new ci(this,Q(this,z)),this.datasets=new Ci(this,Q(this,z)),this.live=new wi(this),this.mediaLibrary={video:new Oi(this,Q(this,z))},this.projects=new Ai(this,Q(this,z)),this.users=new qi(this,Q(this,z)),this.agent={action:new ai(this,Q(this,z))},this.releases=new Pi(this,Q(this,z))}clone(){return new e(Q(this,z),this.config())}config(e){if(void 0===e)return{...Q(this,V)};if(Q(this,V)&&!1===Q(this,V).allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return K(this,V,hn(e,Q(this,V)||{})),this}withConfig(t){const r=this.config();return new e(Q(this,z),{...r,...t,stega:{...r.stega||{},..."boolean"==typeof(null==t?void 0:t.stega)?{enabled:t.stega}:(null==t?void 0:t.stega)||{}}})}fetch(e,t,r){return kn(this,Q(this,z),Q(this,V).stega,e,t,r)}getDocument(e,t){if(!0===(null==t?void 0:t.includeAllVersions))return Pn(this,Q(this,z),e,{...t,includeAllVersions:!0});const r={signal:null==t?void 0:t.signal,tag:null==t?void 0:t.tag,releaseId:null==t?void 0:t.releaseId,...t&&"includeAllVersions"in t?{includeAllVersions:!1}:{}};return Pn(this,Q(this,z),e,r)}getDocuments(e,t){return Rn(this,Q(this,z),e,t)}create(e,t){return Jn(this,Q(this,z),e,"create",t)}createIfNotExists(e,t){return Fn(this,Q(this,z),e,t)}createOrReplace(e,t){return Dn(this,Q(this,z),e,t)}createVersion({document:e,publishedId:t,releaseId:r,baseId:n,ifBaseRevisionId:i},s){if(!e)return Un(this,Q(this,z),t,n,r,i,s);const o=Mi("createVersion",{document:e,publishedId:t,releaseId:r}),a={...e,_id:o},u=t||xr(e._id);return Wn(this,Q(this,z),a,u,s)}delete(e,t){return Vn(this,Q(this,z),e,t)}discardVersion({releaseId:e,publishedId:t},r,n){const i=Si(t,e);return zn(this,Q(this,z),i,r,n)}replaceVersion({document:e,publishedId:t,releaseId:r},n){const i=Mi("replaceVersion",{document:e,publishedId:t,releaseId:r}),s={...e,_id:i};return Nn(this,Q(this,z),s,n)}unpublishVersion({releaseId:e,publishedId:t},r){const n=Cr(t,e);return Ln(this,Q(this,z),n,t,r)}mutate(e,t){return Hn(this,Q(this,z),e,t)}patch(e,t){return new En(e,t,this)}transaction(e){return new An(e,this)}action(e,t){return Bn(this,Q(this,z),e,t)}request(e){return Zn(this,Q(this,z),e)}getUrl(e,t){return ti(this,e,t)}getDataUrl(e,t){return ei(this,e,t)}};N=new WeakMap,L=new WeakMap;const Wi=(Vi=class e{constructor(e,t=un){G(this,"assets"),G(this,"datasets"),G(this,"live"),G(this,"mediaLibrary"),G(this,"projects"),G(this,"users"),G(this,"agent"),G(this,"releases"),G(this,"observable"),Y(this,N),Y(this,L),G(this,"listen",gi),this.config(t),K(this,L,e),this.assets=new li(this,Q(this,L)),this.datasets=new Ei(this,Q(this,L)),this.live=new wi(this),this.mediaLibrary={video:new $i(this,Q(this,L))},this.projects=new ji(this,Q(this,L)),this.users=new Fi(this,Q(this,L)),this.agent={action:new ui(this,Q(this,L))},this.releases=new Ri(this,Q(this,L)),this.observable=new Di(e,t)}clone(){return new e(Q(this,L),this.config())}config(e){if(void 0===e)return{...Q(this,N)};if(Q(this,N)&&!1===Q(this,N).allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),K(this,N,hn(e,Q(this,N)||{})),this}withConfig(t){const r=this.config();return new e(Q(this,L),{...r,...t,stega:{...r.stega||{},..."boolean"==typeof(null==t?void 0:t.stega)?{enabled:t.stega}:(null==t?void 0:t.stega)||{}}})}fetch(e,t,r){return Jt(kn(this,Q(this,L),Q(this,N).stega,e,t,r))}getDocument(e,t){if(!0===(null==t?void 0:t.includeAllVersions))return Jt(Pn(this,Q(this,L),e,{...t,includeAllVersions:!0}));const r={signal:null==t?void 0:t.signal,tag:null==t?void 0:t.tag,releaseId:null==t?void 0:t.releaseId,...t&&"includeAllVersions"in t?{includeAllVersions:!1}:{}};return Jt(Pn(this,Q(this,L),e,r))}getDocuments(e,t){return Jt(Rn(this,Q(this,L),e,t))}create(e,t){return Jt(Jn(this,Q(this,L),e,"create",t))}createIfNotExists(e,t){return Jt(Fn(this,Q(this,L),e,t))}createOrReplace(e,t){return Jt(Dn(this,Q(this,L),e,t))}createVersion({document:e,publishedId:t,releaseId:r,baseId:n,ifBaseRevisionId:i},s){if(!e)return Qt(Un(this,Q(this,L),t,n,r,i,s));const o=Mi("createVersion",{document:e,publishedId:t,releaseId:r}),a={...e,_id:o},u=t||xr(e._id);return Qt(Wn(this,Q(this,L),a,u,s))}delete(e,t){return Jt(Vn(this,Q(this,L),e,t))}discardVersion({releaseId:e,publishedId:t},r,n){const i=Si(t,e);return Jt(zn(this,Q(this,L),i,r,n))}replaceVersion({document:e,publishedId:t,releaseId:r},n){const i=Mi("replaceVersion",{document:e,publishedId:t,releaseId:r}),s={...e,_id:i};return Qt(Nn(this,Q(this,L),s,n))}unpublishVersion({releaseId:e,publishedId:t},r){const n=Cr(t,e);return Jt(Ln(this,Q(this,L),n,t,r))}mutate(e,t){return Jt(Hn(this,Q(this,L),e,t))}patch(e,t){return new xn(e,t,this)}transaction(e){return new _n(e,this)}action(e,t){return Jt(Bn(this,Q(this,L),e,t))}request(e){return Jt(Zn(this,Q(this,L),e))}dataRequest(e,t,r){return Jt(Gn(this,Q(this,L),e,t,r))}getUrl(e,t){return ti(this,e,t)}getDataUrl(e,t){return ei(this,e,t)}},{requester:Dr(Ui=[]),createClient:e=>{const t=Dr(Ui,{ignoreWarnings:e.ignoreWarnings});return new Vi((r,n)=>(n||t)({maxRedirects:0,maxRetries:e.maxRetries,retryDelay:e.retryDelay,lineage:e.lineage,...r}),e)}}).createClient;var Ui,Vi;const zi=ue({exports:{}}.exports=function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,r){if(t){if("string"==typeof t)return e(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t))||r){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(null,arguments)}var n="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function i(e){if(!e)return null;var t,n;if("string"==typeof e&&/^https?:\/\//.test(""+e))t={asset:{_ref:s(e)}};else if("string"==typeof e)t={asset:{_ref:e}};else if((n=e)&&"string"==typeof n._ref)t={asset:e};else if(function(e){return!!e&&"string"==typeof e._id}(e))t={asset:{_ref:e._id||""}};else if(function(e){var t=e;return!(!t||!t.asset)&&"string"==typeof t.asset.url}(e))t={asset:{_ref:s(e.asset.url)}};else{if("object"!=typeof e.asset)return null;t=r({},e)}var i=e;return i.crop&&(t.crop=i.crop),i.hotspot&&(t.hotspot=i.hotspot),function(e){if(e.crop&&e.hotspot)return e;var t=r({},e);return t.crop||(t.crop={left:0,top:0,bottom:0,right:0}),t.hotspot||(t.hotspot={x:.5,y:.5,height:1,width:1}),t}(t)}function s(e){return("image-"+e.split("/").slice(-1)[0]).replace(/\.([a-z]+)$/,"-$1")}var o=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function a(e){var t=r({},e||{}),s=t.source;delete t.source;var a=i(s);if(!a){if(s&&function(e){if("object"==typeof e&&null!==e){var t=e;return t._upload&&(!t.asset||!t.asset._ref)}return!1}(s))return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8HwQACfsD/QNViZkAAAAASUVORK5CYII=";throw new Error("Unable to resolve image URL from source ("+JSON.stringify(s)+")")}var u=function(e){var t=e.split("-"),r=t[1],i=t[2],s=t[3];if(!r||!i||!s)throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+n+'".');var o=i.split("x"),a=+o[0],u=+o[1];if(!isFinite(a)||!isFinite(u))throw new Error("Malformed asset _ref '"+e+"'. Expected an id like \""+n+'".');return{id:r,width:a,height:u,format:s}}(a.asset._ref||a.asset._id||""),c=Math.round(a.crop.left*u.width),l=Math.round(a.crop.top*u.height),h={left:c,top:l,width:Math.round(u.width-a.crop.right*u.width-c),height:Math.round(u.height-a.crop.bottom*u.height-l)},d=a.hotspot.height*u.height/2,p=a.hotspot.width*u.width/2,f=a.hotspot.x*u.width,y=a.hotspot.y*u.height,m={left:f-p,top:y-d,right:f+p,bottom:y+d};return t.rect||t.focalPoint||t.ignoreImageParams||t.crop||(t=r({},t,function(e,t){var r,n=t.width,i=t.height;if(!n||!i)return{width:n,height:i,rect:e.crop};var s=e.crop,o=e.hotspot,a=n/i;if(s.width/s.height>a){var u=Math.round(s.height),c=Math.round(u*a),l=Math.max(0,Math.round(s.top)),h=Math.round((o.right-o.left)/2+o.left),d=Math.max(0,Math.round(h-c/2));d<s.left?d=s.left:d+c>s.left+s.width&&(d=s.left+s.width-c),r={left:d,top:l,width:c,height:u}}else{var p=s.width,f=Math.round(p/a),y=Math.max(0,Math.round(s.left)),m=Math.round((o.bottom-o.top)/2+o.top),g=Math.max(0,Math.round(m-f/2));g<s.top?g=s.top:g+f>s.top+s.height&&(g=s.top+s.height-f),r={left:y,top:g,width:p,height:f}}return{width:n,height:i,rect:r}}({crop:h,hotspot:m},t))),function(e){var t=(e.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),r=e.vanityName?"/"+e.vanityName:"",n=e.asset.id+"-"+e.asset.width+"x"+e.asset.height+"."+e.asset.format+r,i=t+"/images/"+e.projectId+"/"+e.dataset+"/"+n,s=[];if(e.rect){var a=e.rect,u=a.left,c=a.top,l=a.width,h=a.height;(0!==u||0!==c||h!==e.asset.height||l!==e.asset.width)&&s.push("rect="+u+","+c+","+l+","+h)}e.bg&&s.push("bg="+e.bg),e.focalPoint&&(s.push("fp-x="+e.focalPoint.x),s.push("fp-y="+e.focalPoint.y));var d=[e.flipHorizontal&&"h",e.flipVertical&&"v"].filter(Boolean).join("");return d&&s.push("flip="+d),o.forEach(function(t){var r=t[0],n=t[1];void 0!==e[r]?s.push(n+"="+encodeURIComponent(e[r])):void 0!==e[n]&&s.push(n+"="+encodeURIComponent(e[n]))}),0===s.length?i:i+"?"+s.join("&")}(r({},t,{asset:u}))}var u=["clip","crop","fill","fillmax","max","scale","min"],c=["top","bottom","left","right","center","focalpoint","entropy"],l=["format"];function h(e){for(var r,n=t(o);!(r=n()).done;){var i=r.value,s=i[0],a=i[1];if(e===s||e===a)return s}return e}var d=function(){function e(e,t){this.options=void 0,this.options=e?r({},e.options||{},t||{}):r({},t||{})}var t=e.prototype;return t.withOptions=function(t){var n=t.baseUrl||this.options.baseUrl,i={baseUrl:n};for(var s in t)t.hasOwnProperty(s)&&(i[h(s)]=t[s]);return new e(this,r({baseUrl:n},i))},t.image=function(e){return this.withOptions({source:e})},t.dataset=function(e){return this.withOptions({dataset:e})},t.projectId=function(e){return this.withOptions({projectId:e})},t.bg=function(e){return this.withOptions({bg:e})},t.dpr=function(e){return this.withOptions(e&&1!==e?{dpr:e}:{})},t.width=function(e){return this.withOptions({width:e})},t.height=function(e){return this.withOptions({height:e})},t.focalPoint=function(e,t){return this.withOptions({focalPoint:{x:e,y:t}})},t.maxWidth=function(e){return this.withOptions({maxWidth:e})},t.minWidth=function(e){return this.withOptions({minWidth:e})},t.maxHeight=function(e){return this.withOptions({maxHeight:e})},t.minHeight=function(e){return this.withOptions({minHeight:e})},t.size=function(e,t){return this.withOptions({width:e,height:t})},t.blur=function(e){return this.withOptions({blur:e})},t.sharpen=function(e){return this.withOptions({sharpen:e})},t.rect=function(e,t,r,n){return this.withOptions({rect:{left:e,top:t,width:r,height:n}})},t.format=function(e){return this.withOptions({format:e})},t.invert=function(e){return this.withOptions({invert:e})},t.orientation=function(e){return this.withOptions({orientation:e})},t.quality=function(e){return this.withOptions({quality:e})},t.forceDownload=function(e){return this.withOptions({download:e})},t.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},t.flipVertical=function(){return this.withOptions({flipVertical:!0})},t.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},t.fit=function(e){if(-1===u.indexOf(e))throw new Error('Invalid fit mode "'+e+'"');return this.withOptions({fit:e})},t.crop=function(e){if(-1===c.indexOf(e))throw new Error('Invalid crop mode "'+e+'"');return this.withOptions({crop:e})},t.saturation=function(e){return this.withOptions({saturation:e})},t.auto=function(e){if(-1===l.indexOf(e))throw new Error('Invalid auto mode "'+e+'"');return this.withOptions({auto:e})},t.pad=function(e){return this.withOptions({pad:e})},t.vanityName=function(e){return this.withOptions({vanityName:e})},t.frame=function(e){if(1!==e)throw new Error('Invalid frame value "'+e+'"');return this.withOptions({frame:e})},t.url=function(){return a(this.options)},t.toString=function(){return this.url()},e}();return function(e){if((s=e)&&"config"in s&&"function"==typeof s.config){var t=e.config(),r=t.apiHost,n=t.projectId,i=t.dataset;return new d(null,{baseUrl:(r||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:n,dataset:i})}var s;if(function(e){return!(!e||!("clientConfig"in e))&&"object"==typeof e.clientConfig}(e)){var o=e.clientConfig,a=o.apiHost,u=o.projectId,c=o.dataset;return new d(null,{baseUrl:(a||"https://api.sanity.io").replace(/^https:\/\/api\./,"https://cdn."),projectId:u,dataset:c})}return new d(null,e||{})}}());var Ni={};const Li=Wi({projectId:Ni.VITE_SANITY_PROJECT_ID||"your-sanity-project-id",dataset:Ni.VITE_SANITY_DATASET||"production",apiVersion:"2023-05-03",useCdn:!0,token:Ni.VITE_SANITY_TOKEN}),Hi=zi(Li);function Bi(e){return Hi.image(e)}export{pr as C,cr as i,Li as s,Bi as u};
